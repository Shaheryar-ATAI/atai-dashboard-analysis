/* =====================================================================
   ATAI THEME â Dark Glass App Theme
   ===================================================================== */

/* ---------------------------------------------------------------------
   1) TOKENS / ROOT
   --------------------------------------------------------------------- */
:root {
    /* Brand greens */
    --atai-green-50:#f4fbe8;
    --atai-green-100:#e7f4d1;
    --atai-green-300:#c9e6a0;
    /* --atai-green-500:#95c53d;  --atai-green-600:#6a922e;  --atai-green-900:#10240e; */

    /* CTA */
    --cta:#ff6a2a;
    --cta-700:#e45717;

    /* Panels */
    --panel-top:#0b1020;
    --panel-bottom:#1b2134;
    --panel-line:rgba(255,255,255,.10);
    --panel-shadow:0 14px 34px rgba(0,0,0,.45);

    /* KPI cards */
    --kpi-top:#0e1323;
    --kpi-bottom:#1a2236;
    --kpi-line:rgba(255,255,255,.08);
    --kpi-shadow:0 12px 30px rgba(0,0,0,.48);
    --kpi-shadow-hover:0 18px 38px rgba(0,0,0,.58);
    --kpi-label:#9cc4ff;
    --kpi-ink:#e6f0ff;

    /* Text */
    /* --text-ink:#e6eefc; --text-dim:#b7c3de; */
    --ring:0 0 0 .25rem rgba(149,197,61,.28);

    /* Badges */
    --badge-height:38px;
    --badge-radius:12px;

    /* App background */
    --app-grad:
        radial-gradient(950px 520px at 12% 8%, rgba(149,197,61,.14), transparent 45%),
        radial-gradient(1100px 600px at 88% 10%, rgba(255,106,42,.10), transparent 45%),
        linear-gradient(180deg,#0c1020 0%, #0a0f1d 40%, #0b1120 100%);
}

html, body { height: 100%; }
body {
    color: var(--kpi-ink);
    background: var(--app-grad);
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
}
/* subtle glow under the navbar */
body::before {
    content:""; position:fixed; inset:0 0 auto 0; height:110px; z-index:0;
    background:linear-gradient(180deg, rgba(255,255,255,.06), transparent 70%);
    pointer-events:none;
}
.container, .container-fluid { position: relative; z-index: 1; }

/* ---------------------------------------------------------------------
   2) NAVBAR (sticky glass) + layout
   --------------------------------------------------------------------- */
.navbar-atai{
    background:
        radial-gradient(1200px 400px at 20% -80px, rgba(149,197,61,.15), transparent 55%),
        radial-gradient(1200px 400px at 85% -60px, rgba(255,106,42,.12), transparent 55%),
        linear-gradient(180deg, rgba(14,19,35,.96) 0%, rgba(26,34,54,.96) 100%) !important;
    border-bottom: 1px solid rgba(255,255,255,.08) !important;
    box-shadow: 0 8px 22px rgba(0,0,0,.35);
}
.navbar-atai img { max-height: 40px !important; width: auto !important; }
.navbar-atai .brand-word{
    font-weight: 900; letter-spacing:.02em;
    background: linear-gradient(90deg,#b7ffc2 0%, #61ff87 60%, #e2ffe8 100%);
    -webkit-background-clip:text; background-clip:text; color: transparent !important;
}

/* layout: brand | centered links | right-block */
.navbar-atai .container-fluid{
    display:flex; align-items:center; gap:1rem;
}
.navbar-atai .navbar-collapse{
    display:flex !important; align-items:center; justify-content:space-between; width:100%;
}
.navbar-atai .navbar-nav{
    flex: 1 1 auto;
    justify-content: center;
    margin: 0 auto;

    /* scroll when crowded */
    overflow-x: auto;
    overflow-y: hidden;
    white-space: nowrap;
    gap: .35rem;
    padding: .35rem 0;
    -webkit-overflow-scrolling: touch;
    scrollbar-width: none;           /* Firefox hide bar */
}
.navbar-atai .navbar-nav::-webkit-scrollbar{ display:none; } /* WebKit hide bar */

/* tighter pills */
.navbar-atai .nav-link{
    height: 34px;
    padding: .25rem .7rem;
    font-size: .92rem;
    border-radius: 8px;
}
.navbar-atai .nav-link.active{
    box-shadow: 0 6px 14px rgba(149,197,61,.28);
}
.navbar-atai .navbar-text{ color:rgba(231,238,252,.85) !important; }

/* right block pinned right */
.navbar-atai .navbar-right{
    margin-left:auto;
    display:flex; align-items:center; gap:.5rem;
    flex: 0 0 auto; /* don't squeeze / scroll the right block */
}
/* nav pills */
.navbar-atai .nav-link{
    height:38px; display:inline-flex; align-items:center;
    padding:.35rem .9rem; border-radius:3px;
    color:#e7eefc !important;
    background:rgba(255,255,255,.10) !important;
    border:1px solid rgba(255,255,255,.16) !important;
    transition:transform .15s ease, box-shadow .15s ease, background .15s ease;
}
.navbar-atai .nav-link:hover{
    background:rgba(255,255,255,.16) !important;
    border-color:rgba(255,255,255,.24) !important;
    transform:translateY(-1px);
    box-shadow:0 6px 14px rgba(0,0,0,.28);
}
.navbar-atai .nav-link.active{
    background:linear-gradient(180deg, rgba(149,197,61,.28), rgba(149,197,61,.22)) !important;
    border-color:rgba(149,197,61,.45) !important;
    color:#fff !important;
    box-shadow:0 8px 18px rgba(149,197,61,.25);
}

/* logout */
.navbar-atai .btn-logout{
    height:34px; padding:.25rem .7rem; border-radius: 8px;
    background:#fc0202 !important; border:1px solid rgba(0,0,0,.18) !important; color:#fff !important;
}
.navbar-atai .btn-logout:hover{ filter:brightness(1.05); }

/* collapse behavior */
@media (max-width: 991.98px){
    .navbar-atai .navbar-collapse{
        flex-direction: column; align-items: stretch; gap:.5rem;
    }
    .navbar-atai .navbar-nav{
        justify-content: flex-start;      /* left align */
        width: 100%;
    }
    .navbar-atai .navbar-right{ width:100%; justify-content:space-between; }
}

/* ---------------------------------------------------------------------
   3) PANELS / CARDS / CHART BACKGROUNDS
   --------------------------------------------------------------------- */
.card, .kpi-card, .hc-panel, .panel, .table-wrap{
    background: linear-gradient(180deg, var(--panel-top) 0%, var(--panel-bottom) 100%) !important;
    color: var(--kpi-ink) !important;
    border: 1px solid var(--panel-line) !important;
    border-radius: 14px !important;
    box-shadow: var(--panel-shadow) !important;
}
.card-header, .card-body, .card > .list-group{ background:transparent !important; border:0 !important; }
.card .card-body{ padding:1.25rem; }
.hc-panel .highcharts-background{ fill:transparent !important; }
.highcharts-credits{ display:none !important; }

/* ---------------------------------------------------------------------
   4) FILTER BAR + FORM CONTROLS
   --------------------------------------------------------------------- */
.form-control, .form-select{
    background:rgb(255 255 255 / 74%); color:var(--kpi-ink);
    border:1px solid var(--panel-line);
}
.form-control::placeholder{ color:rgba(230,238,252,.55); }
.form-control:focus, .form-select:focus{ box-shadow:var(--ring); }

.filters-bar{
    position:sticky; top:64px; z-index:1029;
    margin:.35rem 0 .75rem; padding:.6rem .8rem;
    background:linear-gradient(180deg, rgba(20,26,42,.72), rgba(18,23,38,.62));
    border:1px solid rgba(255,255,255,.08);
    border-radius:12px; backdrop-filter:blur(8px); -webkit-backdrop-filter:blur(8px);
    box-shadow:0 10px 26px rgba(0,0,0,.35);
}
.filters-bar .row, .filters-bar .d-flex{ gap:.55rem; }
.filters-bar .form-control, .filters-bar .form-select{
    height:38px; padding:.45rem .7rem;
    background:rgb(255 255 255 / 54%) !important;
    border:1px solid rgba(255,255,255,.18) !important;
    color:#eaf0ff; font-weight:500; box-shadow:inset 0 0 6px rgba(0,0,0,.3);
}
.filters-bar .form-control::placeholder{ color:rgba(234,240,255,.55); }
.filters-bar .form-select option{ background:#121629 !important; color:#e6eefc !important; }
.filters-bar .form-control:focus, .filters-bar .form-select:focus{
    border-color:rgba(149,197,61,.55) !important;
    box-shadow:0 0 0 .2rem rgba(149,197,61,.25) !important;
}
.filters-bar .btn, .btn-filter-apply{
    height:38px; padding:.45rem .9rem; font-weight:700;
    background:#4666ff; border-color:#3d57d9; color:#fff;
    box-shadow:0 8px 16px rgba(70,102,255,.25);
}
.filters-bar .btn:hover{ filter:brightness(1.05); transform:translateY(-1px); }

/* Family chips */
#familyChips{ display:flex; flex-wrap:wrap; gap:.5rem; padding:.4rem .1rem .1rem; }
#familyChips .btn{
    height:34px; padding:.25rem .75rem; font-weight:600;
    border-radius:999px !important; border:1px solid rgba(255,255,255,.16) !important;
    background:rgba(255,255,255,.10) !important; color:#e7eefc !important;
    box-shadow:0 3px 10px rgba(0,0,0,.25);
}
#familyChips .btn:hover{ transform:translateY(-1px); background:rgba(255,255,255,.16) !important; border-color:rgba(255,255,255,.24) !important; }
#familyChips .btn.active{
    background:linear-gradient(180deg, rgba(149,197,61,.30), rgba(149,197,61,.22)) !important;
    border-color:rgba(149,197,61,.45) !important; color:#fff !important;
    box-shadow:0 8px 18px rgba(149,197,61,.28);
}

/* Tabs (generic) */
.nav-tabs{ border:none; gap:.6rem; }
.nav-tabs .nav-link{
    border:1px solid var(--panel-line);
    background:rgba(255,255,255,.10);
    color:var(--kpi-ink); padding:.5rem 1rem; border-radius:10px; font-weight:700;
    transition: background .2s, border-color .2s, transform .15s;
}
.nav-tabs .nav-link:hover{ transform:translateY(-1px); }
.nav-tabs .nav-link.active{ background:rgba(255,255,255,.16); border-color:rgba(149,197,61,.35); }

/* ---------------------------------------------------------------------
   5) KPI CARDS
   --------------------------------------------------------------------- */
.kpi-card{
    background:linear-gradient(180deg, var(--kpi-top) 0%, var(--kpi-bottom) 100%) !important;
    border:1px solid var(--kpi-line) !important; box-shadow:var(--kpi-shadow) !important;
}
.kpi-card:hover{ transform:translateY(-2px); box-shadow:var(--kpi-shadow-hover) !important; }
.kpi-label{ font-size:.8rem; letter-spacing:.08em; text-transform:uppercase; color:var(--kpi-label); opacity:.95; }
.kpi-value{ font-size:1.6rem; font-weight:800; color:#95c53d; }
.kpi-card .kpi-foot,
.kpi-card > .card-body > .text-center:last-child{
    color:#dff4ff !important; font-weight:800 !important; letter-spacing:.06em; text-transform:uppercase;
    text-shadow:0 0 10px rgba(64,211,255,.45);
}
.kpi-card .highcharts-data-label text{
    fill:#eaf6ff !important; font-weight:700 !important; text-shadow:0 0 8px rgba(64,211,255,.35);
}

/* ---------------------------------------------------------------------
   6) DATATABLES (dark)
   --------------------------------------------------------------------- */
.dataTables_wrapper{
    background:rgba(0,0,0,.25); border-radius:16px; padding:1rem;
    box-shadow:inset 0 0 10px rgba(255,255,255,.05), 0 6px 20px rgba(0,0,0,.45);
}
table.dataTable{
    color:#e9eefb !important; border-collapse:separate !important; border-spacing:0; width:100%;
    font-weight:500; background:transparent;
}
table.dataTable thead{
    background:linear-gradient(180deg, rgba(255,255,255,.06), rgba(0,0,0,.3));
    color:#f4f7ff !important; text-transform:uppercase; letter-spacing:.04em; border-bottom:2px solid rgba(255,255,255,.08);
}
table.dataTable thead th{
    padding:.75rem 1rem; font-size:.85rem; font-weight:700;
    border-bottom:1px solid rgba(255,255,255,.08); color:#dfe8f5;
}
table.dataTable thead th.sorting:after,
table.dataTable thead th.sorting_asc:after,
table.dataTable thead th.sorting_desc:after{
    color:#95c53d !important; opacity:.7;
}
table.dataTable tbody tr{ border-bottom:1px solid rgba(255,255,255,.06); transition:background .2s, transform .2s; }
table.dataTable tbody tr:nth-child(odd){ background-color:rgba(255,255,255,.02) !important; }
table.dataTable tbody tr:nth-child(even){ background-color:rgba(255,255,255,.05) !important; }
table.dataTable tbody tr:hover{
    background:linear-gradient(90deg, rgba(149,197,61,.12), rgba(149,197,61,.05)) !important;
    box-shadow:0 0 8px rgba(149,197,61,.25); transform:scale(1.002); cursor:pointer;
}
table.dataTable tbody td{ padding:.6rem 1rem; color:#f0f5ff; vertical-align:middle; }
table.dataTable tbody td:nth-child(1){ color:#a4e869 !important; }
.dataTables_wrapper .dataTables_paginate .paginate_button{
    border-radius:6px; background:rgba(255,255,255,.08); color:#e6eefc !important;
    margin:0 2px; padding:0 4px; border:none; transition:all .2s;
}
.dataTables_wrapper .dataTables_paginate .paginate_button:hover{ background:rgba(149,197,61,.4) !important; color:#fff !important; }
.dataTables_wrapper .dataTables_paginate .paginate_button.current{ background:#95c53d !important; color:#0b220b !important; font-weight:700; }
.dataTables_wrapper .dataTables_filter input,
.dataTables_wrapper .dataTables_length select{
    background:rgba(255,255,255,.1) !important; border:1px solid rgba(255,255,255,.2) !important;
    color:#e6eefc !important; border-radius:6px; padding:4px 8px;
}
.dataTables_info{ color:#cdd6f4 !important; font-weight:500; }

/* ---------------------------------------------------------------------
   7) BUTTONS (utilities)
   --------------------------------------------------------------------- */
.btn-atai, .btn-cta{
    --bs-btn-bg: var(--cta);
    --bs-btn-border-color: var(--cta-700);
    --bs-btn-hover-bg:#ff6a2a; --bs-btn-hover-border-color:#e45717;
    --bs-btn-focus-shadow-rgb:255,106,42;
    --bs-btn-active-bg:#e45717; --bs-btn-active-border-color:#d64f14;
    color:#fff; font-weight:800; letter-spacing:.02em;
    box-shadow:0 10px 22px rgba(255,106,42,.25);
}
.btn-outline-light{ color:var(--kpi-ink); border-color:var(--panel-line); }
.btn-outline-light:hover{ background:rgba(255,255,255,.12); }

/* ---------------------------------------------------------------------
   8) MODAL (dark glass)
   --------------------------------------------------------------------- */
.modal-atai ~ .modal-backdrop.show{ background:rgba(5,8,16,.72); backdrop-filter:blur(2px); }
.modal-atai .modal-dialog{ filter:drop-shadow(0 18px 50px rgba(0,0,0,.55)); }
.modal-atai .modal-content{
    background:linear-gradient(180deg, rgba(18,23,38,.96), rgba(13,18,30,.94)) !important;
    color:#eaf0ff !important; border:1px solid rgba(255,255,255,.12) !important;
    border-radius:16px !important; box-shadow:0 16px 40px rgba(0,0,0,.55), inset 0 1px 0 rgba(255,255,255,.06) !important;
    overflow:hidden;
}
.modal-atai .modal-header, .modal-atai .modal-footer{
    background:linear-gradient(180deg, rgba(255,255,255,.04), rgba(255,255,255,.02)); border-color:rgba(255,255,255,.10);
}
.modal-atai .btn-close{ filter:invert(1) grayscale(1) brightness(1.2); opacity:.85; }
.modal-atai .btn-close:hover{ opacity:1; }
.modal-atai .card{
    background:linear-gradient(180deg, #0f1526 0%, #151c2e 100%) !important;
    color:#eaf0ff !important; border:1px solid rgba(255,255,255,.10) !important;
    border-radius:14px !important; box-shadow:0 10px 26px rgba(0,0,0,.45) !important;
}
.modal-atai dl.row{ --pad:.25rem; }
.modal-atai dt{ color:#9fb1d6 !important; font-weight:700; opacity:.95; margin-bottom:var(--pad); }
.modal-atai dd{ color:#eaf0ff; margin-bottom:.6rem; border-bottom:1px dashed rgba(255,255,255,.06); padding-bottom:.35rem; }
.modal-atai .form-label{ color:#dbe6ff; font-weight:600; }
.modal-atai .form-control, .modal-atai .form-select, .modal-atai textarea{
    background:rgba(255,255,255,.10) !important; border:1px solid rgba(255,255,255,.18) !important;
    color:#eaf0ff !important; box-shadow:inset 0 0 6px rgba(0,0,0,.30);
}
.modal-atai .form-control::placeholder, .modal-atai textarea::placeholder{ color:rgba(234,240,255,.60) !important; }
.modal-atai .form-control:focus, .modal-atai .form-select:focus, .modal-atai textarea:focus{
    border-color:rgba(149,197,61,.55) !important; box-shadow:0 0 0 .2rem rgba(149,197,61,.22) !important;
}
.modal-atai input[type="checkbox"]{ accent-color:#95c53d; }
.modal-atai .progress{ height:10px; border-radius:999px; background:rgba(255,255,255,.10); border:1px solid rgba(255,255,255,.12); }
.modal-atai .progress-bar{ background:linear-gradient(90deg, #7fcf43, #95c53d); box-shadow:inset 0 6px 16px rgba(149,197,61,.35); border-radius:999px; }
.modal-atai .modal-footer .btn{ border-radius:10px; font-weight:700; }
.modal-atai .modal-footer .btn-secondary{
    background:rgba(255,255,255,.10); border:1px solid rgba(255,255,255,.18); color:#eaf0ff;
}
.modal-atai .modal-footer .btn-primary{ background:#4666ff; border-color:#3d57d9; box-shadow:0 8px 16px rgba(70,102,255,.25); }
.modal-atai .modal-footer .btn-success{ background:#31c16a; border-color:#29a959; }
.modal-atai .modal-footer .btn-danger{ background:#ff5b5b; border-color:#e24b4b; }
.modal-atai .modal-footer .modal-action{ margin-right:auto; display:inline-flex; gap:.5rem; align-items:center; }
.modal-atai .modal-body::-webkit-scrollbar{ height:10px; width:10px; }
.modal-atai .modal-body::-webkit-scrollbar-thumb{ background:rgba(255,255,255,.18); border-radius:8px; }

/* ---------------------------------------------------------------------
   9) ESTIMATOR TOOLBAR (glass-row) + pills
   --------------------------------------------------------------------- */
.glass-row{
    position:relative; display:flex; justify-content:space-between; align-items:center; gap:1rem; padding:.8rem .9rem;
    background:
        radial-gradient(1000px 400px at 10% -80px, rgba(149,197,61,.12), transparent 55%),
        radial-gradient(1100px 420px at 90% -70px, rgba(70,102,255,.10), transparent 55%),
        linear-gradient(180deg, rgba(22,27,44,.78), rgba(20,25,40,.66));
    border:1px solid rgba(255,255,255,.10); border-radius:12px;
    backdrop-filter:blur(8px); -webkit-backdrop-filter:blur(8px); box-shadow:0 10px 26px rgba(0,0,0,.35);
}
.glass-row h4{ color:#eaf0ff; font-weight:800; }
.et-left{ display:flex; align-items:center; gap:.8rem; min-width:260px; }
.et-right{ display:flex; align-items:end; gap:.6rem; flex-wrap:wrap; margin-left:auto; }
.et-field{ display:flex; flex-direction:column; min-width:150px; }
.et-field .form-label{ color:#cfe0ff; font-weight:600; margin:0 0 .15rem; }
.et-right .form-control, .et-right .form-select{
    height:36px; padding:.4rem .6rem; font-weight:600; color:#eaf0ff;
    background:rgba(255,255,255,.10) !important; border:1px solid rgba(255,255,255,.18) !important;
    box-shadow:inset 0 0 6px rgba(0,0,0,.30);
}
.et-right .form-control::placeholder{ color:rgba(234,240,255,.60); }
.et-right .form-control:focus, .et-right .form-select:focus{
    border-color:rgba(149,197,61,.55) !important; box-shadow:0 0 0 .2rem rgba(149,197,61,.22) !important;
}
.pill-chips{ display:flex; gap:.45rem; flex-wrap:wrap; margin:0; padding:0; list-style:none; }
.pill-chips .nav-item{ margin:0; }
.pill-chips .nav-link{
    color:#e7eefc !important; background:rgba(255,255,255,.10) !important; border:1px solid rgba(255,255,255,.18) !important;
    border-radius:999px !important; padding:.35rem .85rem; line-height:1.1; font-weight:700; letter-spacing:.01em;
    transition:transform .15s, box-shadow .2s, background .2s, border-color .2s; box-shadow:0 3px 10px rgba(0,0,0,.28);
}
.pill-chips .nav-link:hover{ background:rgba(255,255,255,.16) !important; border-color:rgba(255,255,255,.26) !important; transform:translateY(-1px); }
.pill-chips .nav-link.active{
    background:linear-gradient(180deg, rgba(149,197,61,.32), rgba(149,197,61,.22)) !important;
    border-color:rgba(149,197,61,.45) !important; color:#fff !important; box-shadow:0 8px 18px rgba(149,197,61,.28);
}
#applyFilters.btn{
    height:36px; padding:.4rem .9rem; font-weight:800; background:#4666ff; border-color:#3d57d9; color:#fff;
    box-shadow:0 8px 16px rgba(70,102,255,.25);
}
#applyFilters.btn:hover{ filter:brightness(1.05); transform:translateY(-1px); }
#clearFilters.btn{
    height:36px; padding:.4rem .9rem; font-weight:700; background:rgba(255,255,255,.10); color:#eaf0ff;
    border:1px solid rgba(255,255,255,.18);
}
#clearFilters.btn:hover{ background:rgba(255,255,255,.16); }

@media (max-width:992px){
    .glass-row{ flex-direction:column; align-items:stretch; gap:.75rem; }
    .et-left{ justify-content:space-between; }
    .et-right{ justify-content:flex-start; }
}
@media (max-width:576px){
    .et-field{ min-width:130px; }
    .pill-chips .nav-link{ padding:.3rem .75rem; font-size:.92rem; }
}

/* ---------------------------------------------------------------------
   10) MISC HELPERS
   --------------------------------------------------------------------- */
.panel, .hc-panel, .table-wrap{ border-radius:14px !important; }
.fw-semibold{ color:#61ff87; }

/* === DataTables dark fix (force transparent table bg) === */
.dt-container .table,
table.dataTable {
    --bs-table-bg: transparent !important;
    background: transparent !important;
    color: #e9eefb !important;
}

/* cells inherit transparent bg too */
.dt-container .table>:not(caption)>*>*,
table.dataTable>thead>tr>th,
table.dataTable>tbody>tr>td,
table.dataTable>tfoot>tr>th {
    background-color: transparent !important;
    color: #e9eefb !important;
    border-color: rgba(255,255,255,.08) !important;
}

/* header bar (sticky) */
table.dataTable thead {
    background: linear-gradient(180deg, rgba(255,255,255,.06), rgba(0,0,0,.30)) !important;
    border-bottom: 2px solid rgba(255,255,255,.08) !important;
}

/* zebra striping on dark */
table.dataTable.display tbody tr.odd,
table.dataTable.stripe  tbody tr.odd {
    background-color: rgba(255,255,255,.03) !important;
}
table.dataTable.display tbody tr.even,
table.dataTable.stripe  tbody tr.even {
    background-color: rgba(255,255,255,.02) !important;
}

/* hover state */
table.dataTable.hover tbody tr:hover,
table.dataTable.display tbody tr:hover {
    background-color: rgba(149,197,61,.10) !important;
}

/* search & length controls on dark */
.dataTables_wrapper .dataTables_filter input,
.dataTables_wrapper .dataTables_length select {
    background: rgba(0,0,0,.35) !important;
    border: 1px solid rgba(255,255,255,.20) !important;
    color: #e6eefc !important;
}

/* pagination buttons */
.dataTables_wrapper .dataTables_paginate .paginate_button {
    background: rgba(255,255,255,.08) !important;
    color: #e6eefc !important;
    border: none !important;
}
.dataTables_wrapper .dataTables_paginate .paginate_button.current {
    background: #95c53d !important;
    color: #0b220b !important;
}
.text-muted{ color: #c53636 !important; }

/* === Dark Table Header Enhancement === */
table.dataTable thead {
    background: linear-gradient(180deg, #626262 0%, #000000 100%) !important;
    color: #cfe6ff !important;
    border-bottom: 2px solid rgba(149,197,61,0.35) !important;
    box-shadow: 0 2px 8px rgba(0,0,0,0.4);
}

/* Header text */
table.dataTable thead th {
    font-weight: 800 !important;
    text-transform: uppercase;
    letter-spacing: .05em;
    color: #bde1ff !important;
    background: transparent !important;
}

/* Sorting arrows */
table.dataTable thead th.sorting:after,
table.dataTable thead th.sorting_asc:after,
table.dataTable thead th.sorting_desc:after {
    color: #95c53d !important;
    opacity: 0.8;
}

/* Keep body rows darker so contrast is clear */
table.dataTable tbody tr {
    background-color: rgba(0,0,0,0.2) !important;
}

/* Slight glow on hover */
table.dataTable tbody tr:hover {
    background: rgba(149,197,61,0.08) !important;
    box-shadow: inset 0 0 6px rgba(149,197,61,0.25);
}
/* Make all selects dark */
.form-select,
select {
    background: rgba(255,255,255,.10) !important;
    color: #eaf0ff !important;
    border: 1px solid rgba(255,255,255,.18) !important;
}

/* The opened list (options panel) */
.form-select option,
select option,
.form-select optgroup {
    background: #0f1526 !important;   /* dark panel */
    color: #eaf0ff !important;         /* readable text */
}

/* Hover/selected item highlight (Blink/Firefox) */
.form-select option:hover,
.form-select option:checked {
    background: #1f283e !important;
    color: #ffffff !important;
}
/* Fix for Windows/WebKit gradient override on selected */
.form-select option:checked {
    background: #1f283e linear-gradient(#1f283e,#1f283e) !important;
}

/* Focus ring on dark */
.form-select:focus {
    border-color: rgba(149,197,61,.55) !important;
    box-shadow: 0 0 0 .2rem rgba(149,197,61,.25) !important;
}

/* Scope inside your filters bar too (optional redundancy) */
.filters-bar .form-select option {
    background: #0f1526 !important;
    color: #eaf0ff !important;
}











































.kpi-switcher {
    position: relative;
    min-height: 440px;
}
.kpi-panel {
    position: absolute;
    inset: 0;
    opacity: 0;
    transform: translateX(16px);
    transition: opacity .35s ease, transform .35s ease;
    pointer-events: none;
}
.kpi-panel--active {
    opacity: 1;
    transform: translateX(0);
    pointer-events: auto;
}
.kpi-cards-head {
    display:flex;
    align-items:baseline;
    justify-content:space-between;
    gap:1rem;
    margin-bottom:.5rem;
}
.cards-title { font-weight:800; font-size:1.25rem; }
.muted { color: #9aa7bd; font-size:.85rem; }
.kpi-cards-grid {
    display:grid;
    grid-template-columns: repeat(6, minmax(0,1fr));
    gap:.75rem;
}
@media (max-width: 1200px){
    .kpi-cards-grid{ grid-template-columns: repeat(4, minmax(0,1fr)); }
}
@media (max-width: 768px){
    .kpi-cards-grid{ grid-template-columns: repeat(2, minmax(0,1fr)); }
}
.kpi-mini {
    background: rgba(255,255,255,.05);
    border:1px solid rgba(255,255,255,.08);
    border-radius:12px;
    padding:.75rem .9rem;
}
.kpi-mini .kpi-label{
    font-size:.75rem; letter-spacing:.02em; color:#b8c4da; text-transform:uppercase;
}
.kpi-mini .kpi-value{
    font-weight:800; font-size:1.05rem; margin-top:.15rem; color:#eaf2ff;
}
.kpi-mini .kpi-sub{
    font-size:.75rem; color:#9aa7bd; margin-top:.2rem;
}
.kpi-mini.ok    { box-shadow: 0 0 0 1px rgba(16,185,129,.25) inset; }
.kpi-mini.warn  { box-shadow: 0 0 0 1px rgba(250,204,21,.25) inset; }
.kpi-mini.dang  { box-shadow: 0 0 0 1px rgba(244,63,94,.25) inset; }


.kpi-switcher { position: relative; min-height: 440px; }
.kpi-panel { position: absolute; inset: 0; opacity: 0; transform: translateX(16px);
    transition: opacity .35s ease, transform .35s ease; pointer-events: none; }
.kpi-panel--active { opacity: 1; transform: translateX(0); pointer-events: auto; }

.kpi-cards-head{display:flex;align-items:baseline;justify-content:space-between;gap:1rem;margin-bottom:.5rem;}
.cards-title{font-weight:800;font-size:1.25rem;}
.muted{color:#9aa7bd;font-size:.85rem;}

.kpi-cards-grid{display:grid;grid-template-columns:repeat(6,minmax(0,1fr));gap:.75rem;}
@media (max-width:1200px){.kpi-cards-grid{grid-template-columns:repeat(4,minmax(0,1fr));}}
@media (max-width:768px){.kpi-cards-grid{grid-template-columns:repeat(2,minmax(0,1fr));}}

.kpi-mini{background:rgba(255,255,255,.05);border:1px solid rgba(255,255,255,.08);border-radius:12px;padding:.75rem .9rem;}
.kpi-mini .kpi-label{font-size:.75rem;letter-spacing:.02em;color:#b8c4da;text-transform:uppercase;}
.kpi-mini .kpi-value{font-weight:800;font-size:1.05rem;margin-top:.15rem;color:#eaf2ff;}
.kpi-mini .kpi-sub{font-size:.75rem;color:#9aa7bd;margin-top:.2rem;}
.kpi-mini.ok{box-shadow:0 0 0 1px rgba(16,185,129,.25) inset;}
.kpi-mini.warn{box-shadow:0 0 0 1px rgba(250,204,21,.25) inset;}
.kpi-mini.dang{box-shadow:0 0 0 1px rgba(244,63,94,.25) inset;}
/* === Switcher layout === */
.kpi-switcher {
    position: relative;
    min-height: 440px; /* enough for the chart/cards */
}
.kpi-panel {
    position: absolute; inset: 0;
    opacity: 0; pointer-events: none;
    transform: translateY(6px);
    transition: opacity .2s ease, transform .2s ease;
}
.kpi-panel--active {
    opacity: 1; pointer-events: auto;
    transform: translateY(0);
}

/* Cards grid (Panel B) */
.kpi-cards-head {
    display: flex; justify-content: space-between; align-items: baseline;
    margin-bottom: 12px;
}
.kpi-cards-head .cards-title { font-weight: 700; font-size: 18px; color:#e8f0ff; }
.kpi-cards-head .muted       { color:#8da2c0; font-size:12px; }

.kpi-cards-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(230px, 1fr));
    gap: 12px;
}

/* Card styles (same as before) */
.kpi-mini { background: rgba(255,255,255,.04); border:1px solid rgba(255,255,255,.08);
    border-radius: 10px; padding: 10px 12px; }
.kpi-mini .kpi-head{display:flex;justify-content:space-between;align-items:baseline;margin-bottom:6px}
.kpi-mini .kpi-title{font-size:12px;letter-spacing:.02em;color:#cbd5e1;font-weight:600;text-transform:uppercase}
.kpi-mini .kpi-month{font-size:12px;color:#94a3b8}
.kpi-mini .kpi-row{display:grid;grid-template-columns:1fr auto;gap:8px;font-size:13px;color:#e2e8f0;margin:2px 0}
.kpi-mini .kpi-label{color:#a7b5cc}
.kpi-mini .kpi-val{font-weight:700}
.kpi-mini .kpi-bullet{margin-top:8px;height:6px;background:rgba(255,255,255,.07);border-radius:3px;position:relative;overflow:hidden}
.kpi-mini .kpi-bullet .bar{position:absolute;left:0;top:0;bottom:0;width:0;background:linear-gradient(90deg,#22d3ee,#60a5fa);border-radius:999px}
.kpi-mini .kpi-bullet .tick{position:absolute;top:50%;width:2px;height:10px;background:rgba(255,255,255,.6);transform:translateY(-50%);opacity:.4}
.kpi-mini .muted{margin-top:6px;color:#8da2c0;font-size:11px}
.kpi-mini.ok   .kpi-val{color:#86efac}
.kpi-mini.warn .kpi-val{color:#fde68a}
.kpi-mini.bad  .kpi-val{color:#fca5a5}
.kpi-switcher { position: relative; }
.kpi-toggle-btn{
    position:absolute;
    right:.5rem;
    top:50%;
    transform:translateY(-50%);
    z-index:10;
    padding:.35rem .6rem;
    border-radius:999px;
    backdrop-filter: blur(2px);
}
@media (max-width: 992px){
    .kpi-toggle-btn{ top:auto; bottom:.5rem; transform:none; }
}
/* let the Cards panel scroll if content is tall */
#panelCards {
    max-height: 70vh;           /* adjust to your liking */
    overflow: auto;             /* vertical scroll inside the panel */
    padding-right: .25rem;      /* room for scrollbar */
}

/* board grid: auto-fit as many cards as the width allows */
.months-wrap {
    display: grid;
    gap: .8rem;
    grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
    align-content: start;       /* avoid extra stretching */
}

/* month card */
.month-card {
    border-radius: .75rem;
    background: rgba(255,255,255,.035);
    border: 1px solid rgba(255,255,255,.08);
    height: 100%;
}

.month-head {
    display: flex; align-items: center; justify-content: space-between;
    padding: .6rem .75rem;
    border-bottom: 1px solid rgba(255,255,255,.06);
}

.month-title { font-weight: 700; letter-spacing: .2px; }

/* inner grid: adapt columns based on card width */
.month-grid {
    display: grid;
    gap: .5rem;
    padding: .6rem .75rem .8rem;
    grid-template-columns: repeat(3, minmax(0, 1fr));
}

/* when the card is narrower, drop to 2 columns; on very small, 1 column */
@media (max-width: 1400px) {
    .month-grid { grid-template-columns: repeat(2, minmax(0, 1fr)); }
}
@media (max-width: 576px) {
    .month-grid { grid-template-columns: 1fr; }
}

/* KPI tiles */
.month-kpi {
    padding: .5rem .6rem;
    border-radius: .5rem;
    background: rgba(255,255,255,.04);
    min-width: 0;               /* enables text truncation below */
}
.month-kpi.ok   { outline: 1px solid rgba(34,197,94,.35); }
.month-kpi.warn { outline: 1px solid rgba(245,158,11,.35); }
.month-kpi.dang { outline: 1px solid rgba(239,68,68,.35); }

.month-kpi .label {
    font-size: .78rem;
    opacity: .8;
    margin-bottom: .2rem;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
}
.month-kpi .val {
    font-weight: 700;
    font-size: .98rem;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
}

/* if you have extremely wide screens and want 4 columns of cards */
@media (min-width: 1800px) {
    .months-wrap {
        grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
    }
}


/* ===== Highcharts: glassy tooltip & bold labels ===== */
.hc-panel .highcharts-tooltip-box {              /* SVG tooltip */
    fill: rgba(18, 24, 40, .88) !important;
    stroke: rgba(255,255,255,.18) !important;
    stroke-width: 1 !important;
    filter: drop-shadow(0 8px 22px rgba(0,0,0,.45));
    backdrop-filter: blur(8px);
}
.hc-panel .highcharts-tooltip text {
    fill: #eaf6ff !important;
    font-weight: 800 !important;
    letter-spacing: .01em;
    text-shadow: 0 0 8px rgba(64,211,255,.35);
}

/* If you use tooltip.useHTML with a custom class */
.hc-tooltip {
    background: linear-gradient(180deg, rgba(18,23,38,.96), rgba(13,18,30,.94));
    border: 1px solid rgba(255,255,255,.14);
    border-radius: 10px;
    box-shadow: 0 14px 34px rgba(0,0,0,.5);
    color: #eaf6ff;
    padding: 8px 10px;
    backdrop-filter: blur(8px);
}
.hc-tooltip .label { opacity:.9; color:#9cc4ff; font-weight:700; font-size:12px; }
.hc-tooltip .val   { font-weight:900; font-size:13px; }

/* Data-label âbadgesâ above columns/splines */
.hc-panel .highcharts-data-label-box {
    fill: rgba(14,19,35,.90) !important;
    stroke: rgba(255,255,255,.16) !important;
    stroke-width: 1 !important;
    rx: 6; ry: 6; /* rounded corners */
    filter: drop-shadow(0 8px 16px rgba(0,0,0,.45));
}
.hc-panel .highcharts-data-label text {
    fill: #eaf6ff !important;
    font-weight: 800 !important;
    text-shadow: 0 0 8px rgba(64,211,255,.35);
}

/* Hover emphasis on columns/points */
.hc-panel .highcharts-point-hover,
.hc-panel .highcharts-point.highcharts-state-hover {
    filter: drop-shadow(0 8px 16px rgba(149,197,61,.30));
}

/* Legend & axes to match your look */
.hc-panel .highcharts-legend-item text { fill:#e6f0ff !important; font-weight:800 !important; }
.hc-panel .highcharts-axis-title,
.hc-panel .highcharts-axis-labels text { fill:#cfe0ff !important; }
/* === FIX: stop letters breaking vertically in tables === */

/* Undo global word-break on tables */
table, td, th {
    word-break: normal !important;     /* don't break inside words */
    white-space: nowrap;                /* keep each cell on one line */
    hyphens: auto;
}

/* Let wide tables scroll on small screens */
.table-wrap,
.dataTables_wrapper {
    overflow-x: auto !important;
    -webkit-overflow-scrolling: touch;
}

/* If you WANT a specific column to wrap, opt-in with .wrap */
td.wrap, th.wrap {
    white-space: normal !important;
    overflow-wrap: anywhere;            /* safe wrapping when opted-in */
    word-break: break-word;
}


/* Optional: slightly smaller table text on phones */
@media (max-width: 576px) {
    table.dataTable { font-size: 12px; }
}






/* Make the pie container a relative context */
#projectsRegionPie {
    position: relative;
}

/* Prominent animated alert icon */
.warn-pulse {
    position: absolute;
    right: 10px;
    top: 10px;
    width: 48px;
    height: 48px;
    display: none;
    z-index: 20;
    cursor: pointer;
    filter: drop-shadow(0 0 8px rgba(255, 0, 0, 0.9))
    drop-shadow(0 0 15px rgba(255, 60, 60, 0.8));
    animation: pulseGlow 1s ease-in-out infinite;
    transition: transform 0.2s ease-in-out;
}
.warn-pulse:hover {
    transform: scale(1.2);
    filter: drop-shadow(0 0 14px rgba(255, 40, 40, 1))
    drop-shadow(0 0 30px rgba(255, 0, 0, 0.8));
}
@keyframes pulseGlow {
    0%, 100% {
        transform: scale(1);
        opacity: 0.85;
    }
    50% {
        transform: scale(1.15);
        opacity: 1;
    }
}




/* =========================================================
   FINAL FORECAST TABLE INPUT FIX â BLACK TEXT ON TYPE
   ========================================================= */

/* Row background for contrast */
.forecast-page .table tbody tr {
    background-color: #1c2130 !important;   /* deep slate */
}
.forecast-page .table tbody tr:nth-child(even) {
    background-color: #23293c !important;   /* alternate tone */
}
.forecast-page .table tbody tr:hover {
    background-color: #2b314a !important;
}

/* Input boxes â light grey with black text always visible */
.forecast-page .table td input.form-control,
.forecast-page .table td textarea.form-control {
    background-color: #f0f3f7 !important;   /* light surface */
    color: #000000 !important;              /* black text */
    -webkit-text-fill-color: #000000 !important; /* ensures black text in Chrome/Safari */
    border: 1px solid #bfc6d1 !important;
    border-radius: 6px;
    font-weight: 500;
    caret-color: #000 !important;
    box-shadow: none !important;
}

/* Focused state (keeps black text and adds subtle blue border) */
.forecast-page .table td input.form-control:focus,
.forecast-page .table td textarea.form-control:focus {
    background-color: #ffffff !important;
    color: #000000 !important;
    -webkit-text-fill-color: #000000 !important;
    border-color: #0078ff !important;
    box-shadow: 0 0 0 2px rgba(0,120,255,0.25) !important;
}

/* Placeholder text (soft grey) */
.forecast-page .table td input::placeholder,
.forecast-page .table td textarea::placeholder {
    color: #6c727d !important;
    opacity: 1 !important;
}

/* Autofill override (Chrome/Edge) */
.forecast-page input:-webkit-autofill,
.forecast-page input:-webkit-autofill:hover,
.forecast-page input:-webkit-autofill:focus {
    -webkit-text-fill-color: #000000 !important;
    -webkit-box-shadow: 0 0 0 1000px #ffffff inset !important;
    transition: background-color 9999s ease-in-out 0s !important;
}

/* Header and footer tones */
.forecast-page .table thead th {
    background-color: #111624 !important;
    color: #f2f6ff !important;
    font-weight: 600;
    letter-spacing: .03em;
}
.forecast-page .table tfoot th,
.forecast-page .table tfoot td {
    background-color: #181d2c !important;
    color: #d6e4ff !important;
    font-weight: 600;
}


